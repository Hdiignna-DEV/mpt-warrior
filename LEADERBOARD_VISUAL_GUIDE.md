# ğŸ¯ Warrior Leaderboard System - Visual Architecture & Flow

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MPT WARRIOR APPLICATION                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚             â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   SIDEBAR   â”‚  â”‚ DASHBOARD â”‚  â”‚  LEADERBOARDâ”‚
            â”‚   MENU      â”‚  â”‚  WIDGET   â”‚  â”‚   PAGE      â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚               â”‚            â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Frontend Services   â”‚
                    â”‚ useLeaderboardRank    â”‚
                    â”‚ Hook (30s polling)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  LEADERBOARD WIDGET   â”‚
                    â”‚  COMPONENT            â”‚
                    â”‚  - Top 3 Display      â”‚
                    â”‚  - Search             â”‚
                    â”‚  - Rank Highlight     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ARKA TRIGGER HOOK    â”‚
                    â”‚  Detect milestones:   â”‚
                    â”‚  - Top 10             â”‚
                    â”‚  - Top 5              â”‚
                    â”‚  - Top 3              â”‚
                    â”‚  - Rank #1            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ARKA NOTIFICATION    â”‚
                    â”‚  AnimatePresence      â”‚
                    â”‚  - Victory pose ğŸ‰    â”‚
                    â”‚  - Celebrate pose ğŸ¥³  â”‚
                    â”‚  - Excited pose âš¡    â”‚
                    â”‚  - Clap pose ğŸ‘       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                            â–¼â–¼â–¼ API LAYER â–¼â–¼â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        REST API ENDPOINTS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  GET /api/leaderboard?limit=100                                    â”‚
â”‚  â”œâ”€ Redis Cache (5 min)                                            â”‚
â”‚  â”œâ”€ Fallback Memory Cache                                          â”‚
â”‚  â””â”€ Query: Top 100 WARRIOR users                                   â”‚
â”‚                                                                      â”‚
â”‚  GET /api/leaderboard/user/:userId                                 â”‚
â”‚  â”œâ”€ User's rank position                                           â”‚
â”‚  â”œâ”€ Total points & tier                                            â”‚
â”‚  â””â”€ Percentile ranking                                             â”‚
â”‚                                                                      â”‚
â”‚  GET /api/leaderboard/top-three                                    â”‚
â”‚  â”œâ”€ Top 3 users data                                               â”‚
â”‚  â””â”€ Cache: 5 minutes                                               â”‚
â”‚                                                                      â”‚
â”‚  POST /api/leaderboard/sync-points                                â”‚
â”‚  â”œâ”€ Input: userId, action, pointsAdjustment                       â”‚
â”‚  â”œâ”€ Update: totalPoints, currentRank, tier                        â”‚
â”‚  â”œâ”€ Check: Milestone achieved (Top 10/5/3/1)                      â”‚
â”‚  â”œâ”€ Return: arkaTrigger info                                       â”‚
â”‚  â””â”€ Cache: Invalidate all leaderboard caches                       â”‚
â”‚                                                                      â”‚
â”‚  POST /api/leaderboard/recalculate                                â”‚
â”‚  â”œâ”€ Admin only                                                      â”‚
â”‚  â”œâ”€ Recalculate all user rankings                                 â”‚
â”‚  â””â”€ Invalidate all caches                                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                        â–¼â–¼â–¼ DATABASE LAYER â–¼â–¼â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AZURE COSMOS DB                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Container: users                                                  â”‚
â”‚  Partition Key: userId                                             â”‚
â”‚                                                                      â”‚
â”‚  Fields:                                                           â”‚
â”‚  {                                                                 â”‚
â”‚    id: string,                     // user-123                    â”‚
â”‚    displayName: string,            // Trader Name                 â”‚
â”‚    totalPoints: number,            // 2500                        â”‚
â”‚    currentRank: number,            // 42                          â”‚
â”‚    previousRank: number,           // 45                          â”‚
â”‚    tier: string,                   // "Elite Warrior"             â”‚
â”‚    badges: string[],               // ["badge1", "badge2"]        â”‚
â”‚    pointsBreakdown: {                                             â”‚
â”‚      quizPoints: 800,                                             â”‚
â”‚      consistencyPoints: 700,                                      â”‚
â”‚      communityPoints: 1000                                        â”‚
â”‚    },                                                             â”‚
â”‚    weeklyPoints: number,           // 500                         â”‚
â”‚    monthlyPoints: number,          // 1200                        â”‚
â”‚    updatedAt: Date                 // ISO timestamp               â”‚
â”‚  }                                                                â”‚
â”‚                                                                      â”‚
â”‚  Indexes:                                                          â”‚
â”‚  - totalPoints (DESC) for ranking                                 â”‚
â”‚  - currentRank (ASC) for pagination                              â”‚
â”‚  - role (filtered to WARRIOR only)                               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow: Quiz Validation â†’ Leaderboard Update

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADMIN (Mas Deden)                  â”‚
â”‚  Validates Quiz Answer              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Calculate Score
              â”‚ Example: 80% = 32 points
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Quiz Service            â”‚
    â”‚ approveQuizAnswer()     â”‚
    â”‚ - Update quiz status    â”‚
    â”‚ - Set approvedAt/By     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ POST request
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ /api/leaderboard/sync-points     â”‚
    â”‚ {                                â”‚
    â”‚   userId: "user-123",            â”‚
    â”‚   action: "QUIZ_COMPLETED",      â”‚
    â”‚   actionId: "quiz-456",          â”‚
    â”‚   pointsAdjustment: 32,          â”‚
    â”‚   reason: "Quiz validation"      â”‚
    â”‚ }                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Authenticate
             â”‚ Validate request
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Leaderboard Service                  â”‚
    â”‚ recalculateUserRanking()             â”‚
    â”‚                                      â”‚
    â”‚ 1. Get current user data             â”‚
    â”‚    previousRank: 100                 â”‚
    â”‚    previousPoints: 2468              â”‚
    â”‚    previousTier: "Recruit"           â”‚
    â”‚                                      â”‚
    â”‚ 2. Update points                     â”‚
    â”‚    newPoints: 2500 (2468 + 32)      â”‚
    â”‚                                      â”‚
    â”‚ 3. Recalculate tier                  â”‚
    â”‚    500 â†’ Elite Warrior (need 501)   â”‚
    â”‚    newTier: "Elite Warrior"         â”‚
    â”‚                                      â”‚
    â”‚ 4. Recalculate rank                  â”‚
    â”‚    Query: COUNT(totalPoints > 2500) â”‚
    â”‚    newRank: 92                       â”‚
    â”‚                                      â”‚
    â”‚ 5. Check milestones                  â”‚
    â”‚    previousRank: 100                 â”‚
    â”‚    newRank: 92                       â”‚
    â”‚    NOT Top 10 â†’ no trigger          â”‚
    â”‚                                      â”‚
    â”‚ 6. Return result                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Return: {
             â”‚   success: true,
             â”‚   result: {
             â”‚     previousRank: 100,
             â”‚     newRank: 92,
             â”‚     previousTier: "Recruit",
             â”‚     newTier: "Elite Warrior",
             â”‚     tierChanged: true,
             â”‚     achievedTopTen: false
             â”‚   },
             â”‚   arkaTrigger: {
             â”‚     triggered: false
             â”‚   }
             â”‚ }
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Cache Invalidation                â”‚
    â”‚ DELETE:                           â”‚
    â”‚ - leaderboard:top100:v1 (Redis)  â”‚
    â”‚ - leaderboard:top3:v1 (Redis)    â”‚
    â”‚ - leaderboard:user:123:v1 (Redis)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Backend Response
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Admin HQ (Quiz Page)              â”‚
    â”‚ Show: "Quiz Approved! âœ…"         â”‚
    â”‚ "User gained 32 points"           â”‚
    â”‚                                   â”‚
    â”‚ If arkaTrigger.triggered:         â”‚
    â”‚   Show Arka notification          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Frontend detects change
             â”‚ via useLeaderboardRankTrigger
             â”‚ (30 second polling)
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ User's Dashboard                  â”‚
    â”‚ Widget Updates:                   â”‚
    â”‚ - New rank: #92                   â”‚
    â”‚ - New points: 2500                â”‚
    â”‚ - New tier: â­ Elite Warrior     â”‚
    â”‚                                   â”‚
    â”‚ [Optional]                        â”‚
    â”‚ If Top 10 milestone:              â”‚
    â”‚   Show Arka trigger notification  â”‚
    â”‚   Pose: Victory/Celebrate/etc     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tier Progression Visualization

```
START                                                           TOP
  â”‚                                                              â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                              â”‚
  0 pts              500 pts            1500 pts   3000 pts     âˆ pts
  â”‚                   â”‚                  â”‚          â”‚
  â–¼                   â–¼                  â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”·   â”‚         â”‚ â­       â”‚      â”‚ ğŸ›¡ï¸         â”‚ â”‚ âš¡             â”‚
â”‚REC   â”‚         â”‚ ELITE    â”‚      â”‚ COMMANDER  â”‚ â”‚ LEGENDARY      â”‚
â”‚RUIT  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ WARRIOR  â”‚â”€â”€â”€â”€â”€â–¶â”‚            â”‚â”€â–¶â”‚ MENTOR        â”‚
â”‚      â”‚         â”‚          â”‚      â”‚            â”‚ â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘                  â†‘                  â†‘               â†‘
   â”‚                  â”‚                  â”‚               â”‚
   â”‚                  â”‚                  â”‚               â”‚
 0-500              501-1500           1501-3000       3001+

Progress Example:
Current: 2500 pts â†’ "Elite Warrior" (â­)
Next Tier: Commander (ğŸ›¡ï¸) needs 1501 pts (already have âœ“)
Wait, recalculate:
- 2500 pts = Elite Warrior (501-1500 range? NO!)
- Correct: 2500 pts > 1501 = COMMANDER (ğŸ›¡ï¸)

Progress: 500 pts toward Legendary Mentor
  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 14%
  Need 3001 â†’ Currently 2500 â†’ Need 501 more points
```

---

## Badge Display on Leaderboard

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    WARRIOR LEADERBOARD TOP 100                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                        â•‘
â•‘ ğŸ¥‡ #1  [Avatar] CoolTrader123    âš¡ Legendary Mentor   5,234 pts   â†‘5  â•‘
â•‘                                                                        â•‘
â•‘ ğŸ¥ˆ #2  [Avatar] ProTrader99       ğŸ›¡ï¸  Commander       4,823 pts   â†“2  â•‘
â•‘                                                                        â•‘
â•‘ ğŸ¥‰ #3  [Avatar] WarriorKing       â­ Elite Warrior    4,156 pts   â†‘10 â•‘
â•‘                                                                        â•‘
â•‘ âš”ï¸  #4  [Avatar] TradeGuru        ğŸ›¡ï¸  Commander       3,987 pts   â†’   â•‘
â•‘                                                                        â•‘
â•‘ âš”ï¸  #5  [Avatar] MarketMaster    â­ Elite Warrior    3,542 pts   â†‘15 â•‘
â•‘                                                                        â•‘
â•‘  ...                                                                  â•‘
â•‘                                                                        â•‘
â•‘ âš”ï¸  #42 [Avatar] YOU âœ¨           â­ Elite Warrior    2,500 pts   â†‘8   â•‘
â•‘         (HIGHLIGHTED IN ORANGE)                                      â•‘
â•‘                                                                        â•‘
â•‘  ...                                                                  â•‘
â•‘                                                                        â•‘
â•‘ âš”ï¸  #100 [Avatar] NewTrader       ğŸ”· Recruit          501 pts    â†“20 â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LEGEND:
ğŸ¥‡ ğŸ¥ˆ ğŸ¥‰  = Top 3 with medals
âš”ï¸       = Other ranks
â­       = Elite Warrior tier (501-1500 pts)
ğŸ›¡ï¸       = Commander tier (1501-3000 pts)
âš¡       = Legendary Mentor tier (3001+ pts)
ğŸ”·       = Recruit tier (0-500 pts)
â†‘ â†“ â†’    = Rank change indicator
YOU âœ¨   = Current user (highlighted)
```

---

## Top 3 Podium Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚              ğŸ¥‡              ğŸ¥ˆ             ğŸ¥‰                 â”‚
â”‚                                                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â”‚[AVATAR]  â”‚   â”‚[AVATAR]  â”‚   â”‚[AVATAR]  â”‚            â”‚
â”‚         â”‚          â”‚   â”‚          â”‚   â”‚          â”‚            â”‚
â”‚ GOLD    â”‚ProTrader â”‚   â”‚WarriorK  â”‚   â”‚TradeGuru â”‚  BRONZE   â”‚
â”‚ (ğŸ¥‡)    â”‚          â”‚   â”‚          â”‚   â”‚          â”‚  (ğŸ¥‰)      â”‚
â”‚         â”‚âš¡LEGEND  â”‚   â”‚ğŸ›¡ï¸ COMM   â”‚   â”‚â­ ELITE  â”‚            â”‚
â”‚         â”‚          â”‚   â”‚          â”‚   â”‚          â”‚            â”‚
â”‚   RANK  â”‚   5,234  â”‚   â”‚  4,823   â”‚   â”‚  4,156   â”‚            â”‚
â”‚    #1   â”‚   POINTS â”‚   â”‚  POINTS  â”‚   â”‚  POINTS  â”‚            â”‚
â”‚         â”‚          â”‚   â”‚          â”‚   â”‚          â”‚            â”‚
â”‚    â–¬    â”‚    â–¬â–¬    â”‚   â”‚    â–¬â–¬â–¬   â”‚   â”‚    â–¬     â”‚            â”‚
â”‚   â–â–ˆâ–ˆâ–Œ  â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚            â”‚
â”‚   â–â–ˆâ–ˆâ–Œ  â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚            â”‚
â”‚   â–â–ˆâ–ˆâ–Œ  â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚            â”‚
â”‚   â–â–ˆâ–ˆâ–Œ  â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚   â”‚   â–â–ˆâ–ˆâ–Œ   â”‚            â”‚
â”‚                                                                 â”‚
â”‚  HEIGHT: Highest | BORDER: Gold | HEIGHT: Medium | BORDER: Silver â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Arka Trigger Animation Timeline

```
User enters Top 10
        â”‚
        â–¼ (0ms)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Detect milestone event  â”‚
    â”‚ previousRank: 15        â”‚
    â”‚ newRank: 8              â”‚
    â”‚ Status: Triggered âœ“     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (100ms)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AnimatePresence         â”‚
    â”‚ Hidden â†’ scale 0.8      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (300ms)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Spring animation             â”‚
    â”‚ scale: 0.8 â†’ 1.0             â”‚
    â”‚ opacity: 0 â†’ 1               â”‚
    â”‚ y: 50px â†’ 0px                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (600ms)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Notification fully visible           â”‚
    â”‚                                      â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ â”‚ ğŸ‘ Luar biasa!                 â”‚  â”‚
    â”‚ â”‚    Anda masuk Top 10!          â”‚  â”‚
    â”‚ â”‚    Posisi #8!                  â”‚  â”‚
    â”‚ â”‚                                â”‚  â”‚
    â”‚ â”‚ â­ âœ¨ (Rotating)               â”‚  â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” (5000ms)
             â”‚                     â”‚
             â–¼                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Auto-close       â”‚ OR â”‚ User clicks X    â”‚
    â”‚ (timeout)        â”‚   â”‚ (manual close)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                      â”‚
             â–¼ (5300ms)             â–¼ (immediate)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Exit animation                       â”‚
    â”‚ scale: 1.0 â†’ 0.8                     â”‚
    â”‚ opacity: 1 â†’ 0                       â”‚
    â”‚ y: 0px â†’ -50px                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (5600ms)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Notification removed from DOM        â”‚
    â”‚ Component unmounted                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Hierarchy

```
App Root
â”‚
â”œâ”€ Sidebar
â”‚  â”œâ”€ Logo
â”‚  â”œâ”€ Menu Sections
â”‚  â”‚  â”œâ”€ Dashboard
â”‚  â”‚  â”œâ”€ Profile
â”‚  â”‚  â”œâ”€ Learning & Growth
â”‚  â”‚  â”‚  â”œâ”€ Warrior Academy
â”‚  â”‚  â”‚  â”œâ”€ Achievements
â”‚  â”‚  â”‚  â”œâ”€ â­ Warrior Ranking  â—„â”€â”€â”€ LINK TO LEADERBOARD
â”‚  â”‚  â”‚  â””â”€ About Founder
â”‚  â”‚  â””â”€ Trading Tools
â”‚  â”‚  â””â”€ AI Assistant
â”‚  â””â”€ Admin Menu (if admin)
â”‚
â”œâ”€ Dashboard Page
â”‚  â”œâ”€ Hero Section
â”‚  â”œâ”€ Balance Card
â”‚  â”œâ”€ BentoGrid (stats)
â”‚  â”œâ”€ WarriorRankingWidget  â—„â”€â”€â”€ MINI LEADERBOARD
â”‚  â”‚  â”œâ”€ Top 3 List
â”‚  â”‚  â”œâ”€ Your Position
â”‚  â”‚  â””â”€ View All Button
â”‚  â”œâ”€ Quick Actions
â”‚  â”œâ”€ Discipline Metrics
â”‚  â”œâ”€ Recent Trades
â”‚  â”œâ”€ Commander Arka Panel
â”‚  â””â”€ Arka Notification  â—„â”€â”€â”€ TRIGGER FROM HOOK
â”‚
â””â”€ Leaderboard Page (/leaderboard)
   â”œâ”€ Header
   â”œâ”€ Search Bar
   â”œâ”€ Period Filter
   â”œâ”€ Founder Profile Section
   â”œâ”€ Top 3 Podium  â—„â”€â”€â”€ VISUAL ELEMENT
   â”‚  â”œâ”€ Medal #1 (ğŸ¥‡)
   â”‚  â”œâ”€ Medal #2 (ğŸ¥ˆ)
   â”‚  â””â”€ Medal #3 (ğŸ¥‰)
   â”œâ”€ LeaderboardTable  â—„â”€â”€â”€ MAIN TABLE
   â”‚  â”œâ”€ Header
   â”‚  â”œâ”€ Search Input
   â”‚  â”œâ”€ Leaderboard Rows
   â”‚  â”‚  â”œâ”€ User Row 1
   â”‚  â”‚  â”œâ”€ User Row 2 (You) â—„â”€â”€â”€ HIGHLIGHTED
   â”‚  â”‚  â””â”€ ...
   â”‚  â””â”€ Statistics Footer
   â””â”€ Mobile List View (responsive)
      â””â”€ Card per user (no horizontal scroll)
```

---

## State Management Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  LeaderboardTable Component â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ State: leaderboardData    â”‚
                    â”‚ State: searchQuery        â”‚
                    â”‚ State: filteredEntries    â”‚
                    â”‚ State: currentUserId      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Effects:                  â”‚
                    â”‚ - fetchLeaderboard()      â”‚
                    â”‚ - applyFilters()          â”‚
                    â”‚ - refreshInterval (30s)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚                        â”‚
        â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useAuth Hook     â”‚  â”‚ useLeaderboard   â”‚  â”‚ useMemo          â”‚
â”‚ Get user ID      â”‚  â”‚ RankTrigger Hook â”‚  â”‚ Filter entries   â”‚
â”‚ Get user role    â”‚  â”‚ Monitor changes  â”‚  â”‚ based on search  â”‚
â”‚                  â”‚  â”‚ Detect milestone â”‚  â”‚                  â”‚
â”‚                  â”‚  â”‚ events           â”‚  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Milestone Detected?    â”‚
                    â”‚ Top 10/5/3/1           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Trigger state:    â”‚
                    â”‚ {                 â”‚
                    â”‚   type: string,   â”‚
                    â”‚   message: string,â”‚
                    â”‚   pose: string,   â”‚
                    â”‚   showArka: bool  â”‚
                    â”‚ }                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Render notification:      â”‚
                    â”‚ LeaderboardArkaTrigger    â”‚
                    â”‚ - AnimatePresence wrapper â”‚
                    â”‚ - Motion.div animation    â”‚
                    â”‚ - Auto-close timer        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Visual diagrams created for better understanding of the system architecture and data flows.*

**Last Updated**: 9 Jan 2026
